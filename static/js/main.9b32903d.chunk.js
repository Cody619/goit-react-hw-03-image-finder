(this["webpackJsonpgoit-react-hw-03-image-finder"]=this["webpackJsonpgoit-react-hw-03-image-finder"]||[]).push([[0],{30:function(e,t,n){},31:function(e,t,n){},85:function(e,t,n){"use strict";n.r(t);var a=n(1),r=n.n(a),c=n(10),i=n.n(c),o=(n(30),n(15)),s=n(4),l=n(5),h=n(7),u=n(6),d=(n(31),n(11)),m=n.n(d),g=n(0),j=function(e){Object(h.a)(n,e);var t=Object(u.a)(n);function n(){var e;Object(s.a)(this,n);for(var a=arguments.length,r=new Array(a),c=0;c<a;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).state={searchText:""},e.handleChange=function(t){e.setState({searchText:t.currentTarget.value})},e.handleSubmite=function(t){t.preventDefault(),e.props.onSubmit(e.state.searchText)},e}return Object(l.a)(n,[{key:"render",value:function(){return Object(g.jsx)("header",{className:"Searchbar",children:Object(g.jsxs)("form",{className:"SearchForm",onSubmit:this.handleSubmite,children:[Object(g.jsx)("button",{type:"submit",className:"SearchForm-button",children:Object(g.jsx)("span",{className:"SearchForm-button-label",children:"Search"})}),Object(g.jsx)("input",{value:this.state.searchText,onChange:this.handleChange,className:"SearchForm-input",type:"text",autocomplete:"off",autoFocus:!0,placeholder:"Search images and photos"})]})})}}]),n}(a.Component),b=n(25),p=n.n(b),f=n(14),O=n.n(f),v=function(e){return Object(g.jsx)("li",{className:"ImageGalleryItem",onClick:e.onClick,children:Object(g.jsx)("img",{src:e.src,alt:"\u0432\u0441\u0435 \u0441\u043b\u043e\u043c\u0430\u043b\u043e\u0441\u044c",className:"ImageGalleryItem-image"})})},y=function(e){Object(h.a)(n,e);var t=Object(u.a)(n);function n(){var e;Object(s.a)(this,n);for(var a=arguments.length,r=new Array(a),c=0;c<a;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).handleOverLayClick=function(t){t.target===t.currentTarget&&e.props.onClose()},e.handlePress=function(t){"Escape"===t.code&&e.props.onClose()},e}return Object(l.a)(n,[{key:"componentDidMount",value:function(){window.addEventListener("keydown",this.handlePress)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("keydown",this.handlePress)}},{key:"render",value:function(){return i.a.createPortal(Object(g.jsx)("div",{className:"Overlay",onClick:this.handleOverLayClick,children:Object(g.jsx)("div",{className:"Modal",children:Object(g.jsx)("img",{src:this.props.bigUrl,alt:""})})}),document.getElementById("ModalRoot"))}}]),n}(a.Component),x=function(e){Object(h.a)(n,e);var t=Object(u.a)(n);function n(){var e;Object(s.a)(this,n);for(var a=arguments.length,r=new Array(a),c=0;c<a;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).state={isModalOpen:!1,imgUrl:""},e.modalOpen=function(t){e.setState({isModalOpen:!0,imgUrl:t})},e.modalClose=function(){e.setState({isModalOpen:!1})},e}return Object(l.a)(n,[{key:"render",value:function(){var e=this;return Object(g.jsxs)("div",{children:[Object(g.jsx)("ul",{className:"ImageGallery",children:this.props.imgs.map((function(t){return Object(g.jsx)(v,{src:t.previewURL,onClick:function(){e.modalOpen(t.largeImageURL)}},t.id)}))}),this.state.isModalOpen?Object(g.jsx)(y,{onClose:this.modalClose,bigUrl:this.state.imgUrl}):null]})}}]),n}(a.Component),C=function(e){return Object(g.jsx)("button",{className:"Button",onClick:e.onClick,children:"Load More"})},S="24139872-fead068626907a7ba14cf06e1";m.a.defaults.baseURL="https://pixabay.com/api/";var k=function(e){Object(h.a)(n,e);var t=Object(u.a)(n);function n(){var e;Object(s.a)(this,n);for(var a=arguments.length,r=new Array(a),c=0;c<a;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).state={isLoading:!1,imgs:[]},e.currentPage=1,e.lastSearchText="",e.loadMore=function(){e.setState({isLoading:!0}),e.currentPage+=1;var t=O.a.stringify({key:S,q:e.lastSearchText,page:e.currentPage,per_page:12,image_type:"photo",orientation:"horizontal"});m.a.get("?"+t).then((function(t){e.setState((function(e){return{isLoading:!1,imgs:[].concat(Object(o.a)(e.imgs),Object(o.a)(t.data.hits))}}),(function(){window.scrollTo({top:document.documentElement.scrollHeight,behavior:"smooth"})}))}))},e.fetchImg=function(t){e.setState({isLoading:!0}),e.currentPage=1,e.lastSearchText=t;var n=O.a.stringify({key:S,q:t,pege:1,per_page:12,image_type:"photo",orientation:"horizontal"});m.a.get("?"+n).then((function(t){e.setState({isLoading:!1,imgs:t.data.hits})}))},e}return Object(l.a)(n,[{key:"render",value:function(){return Object(g.jsxs)("div",{children:[Object(g.jsx)(j,{onSubmit:this.fetchImg}),Object(g.jsx)(x,{imgs:this.state.imgs}),Object(g.jsxs)("div",{className:"Center",children:[this.state.isLoading?Object(g.jsx)(p.a,{type:"BallTriangle",color:"#00BFFF",height:25,width:25}):null,0===this.state.imgs.length||this.state.isLoading?null:Object(g.jsx)(C,{onClick:this.loadMore})]})]})}}]),n}(a.Component),w=k,L=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,86)).then((function(t){var n=t.getCLS,a=t.getFID,r=t.getFCP,c=t.getLCP,i=t.getTTFB;n(e),a(e),r(e),c(e),i(e)}))};i.a.render(Object(g.jsx)(r.a.StrictMode,{children:Object(g.jsx)(w,{})}),document.getElementById("root")),L()}},[[85,1,2]]]);
//# sourceMappingURL=main.9b32903d.chunk.js.map